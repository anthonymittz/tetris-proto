(()=>{var e,t,n,r,o,i,a,s,c,l={82:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function a(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),function(e,t){if(void 0===e)throw new TypeError("attempted to get private static field before its declaration")}(n),function(e,t){return t.get?t.get.call(e):t.value}(e,n)}var s=n(741),c=new WeakSet,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a(e,e,u);r(this,e),i(this,c),this.isPaused=!0,this.canvas=t.canvas,this.overlay=t.overlay,this.game=new s}var t,n;return t=e,(n=[{key:"run",value:function(){console.log("[Tetris] start")}},{key:"pause",value:function(){console.log("[Tetris] pause")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u={writable:!0,value:{canvas:{game:null,preview:null},overlay:null}};e.exports=l},419:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var r=n((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=document.getElementById("score"),this.stopwatch=document.getElementById("stopwatch"),this.overlay=document.getElementById("overlay"),this.pause=document.getElementById("pause"),this.controls=document.getElementById("controls"),this.game=document.getElementById("game"),this.preview=document.getElementById("preview")}));e.exports=r},491:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var r=n((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.state="new"}));e.exports=r},766:e=>{function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),function(e,t){if(void 0===e)throw new TypeError("attempted to get private static field before its declaration")}(n),function(e,t){return t.get?t.get.call(e):t.value}(e,n)}var o=function(){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(e,e,i);t(this,e),this.element=n,this.context=this.element.getContext("2d"),this.colors=o.colors,this.width=this.element.width,this.height=this.element.height,this.scale=o.scale,this.clear()}var o,a;return o=e,(a=[{key:"clear",value:function(){this.context.fillStyle=this.colors[0],this.context.fillRect(0,0,this.width,this.height)}}])&&n(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),e}(),i={writable:!0,value:{colors:["#F5CA7B"],scale:20}};e.exports=o},997:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos={x:0,y:0},this.rot=0}var n,r;return n=e,r=[{key:"left",value:function(){this.pos.x--}},{key:"right",value:function(){this.pos.x++}},{key:"up",value:function(){this.pos.y--}},{key:"down",value:function(){this.pos.y++}},{key:"rotateCW",value:function(){this.rot++,this.rot>3&&(this.rot=0)}},{key:"rotateCCW",value:function(){this.rot--,this.rot<0&&(this.rot=3)}},{key:"drop",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};!e();)this.down();this.up()}}],r&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();e.exports=n},40:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={left:{keys:["KeyA","ArrowLeft"],action:function(){return o.player.left()}},right:{keys:["KeyD","ArrowRight"],action:function(){return o.player.right()}},down:{keys:["KeyS","ArrowDown"],action:function(){return o.player.down()}},rotateCW:{keys:["KeyE","ArrowUp"],action:function(){return o.player.rotateCW()}},rotateCCW:{keys:["KeyQ"],action:function(){return o.player.rotateCCW()}},skip:{keys:["Space"],action:function(){return o.player.drop()}},pause:{keys:["Escape","Enter"],action:function(){return o.tetris.pause()}}},(n="bindings")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this.tetris=t,this.player=this.tetris.game.player,this.bindingList=Object.keys(this.bindings)}var n,r;return n=e,(r=[{key:"press",value:function(e){var t=this;this.bindingList.forEach((function(n){return t.bindings[n].keys.includes(e)&&t.bindings[n].action()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();e.exports=n},442:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var o=new WeakSet,i=new WeakSet,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,i),n(this,o),this.controls=t,this.controls.press("pause")}var a,l;return a=e,(l=[{key:"register",value:function(){window.addEventListener("keydown",r(this,o,s)),window.addEventListener("beforeunload",r(this,i,c))}},{key:"unregister",value:function(){window.removeEventListener("keydown",r(this,o,s)),window.addEventListener("beforeunload",r(this,i,c))}}])&&t(a.prototype,l),Object.defineProperty(a,"prototype",{writable:!1}),e}();function s(e){this.controls.press(e.code)}function c(){console.log("[Events] unload")}e.exports=a},741:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var i=n(997),a=o((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=0,this.player=new i}));e.exports=a},678:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var r=n((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));e.exports=r},434:e=>{"use strict";e.exports=JSON.parse('["#252525","#e65e5e","#db7944","#c5923a","#a9a848","#8ab968","#6ac792","#4dd1bd"]')}},u={};function f(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return l[e](n,n.exports,f),n.exports}e=f(82),f(678),t=f(40),n=f(442),r=f(766),o=f(419),i=f(491),a=f(434),new n(new t(c=new e({canvas:{game:new r((s=new o).game,{colors:a}),preview:new r(s.preview,{colors:a})},overlay:new i(s.overlay)}))).register(),c.run()})();